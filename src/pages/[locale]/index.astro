---
import Layout from '../../components/layouts/Layout.astro'
import { AvatarComponent } from '../../components/design-system/Avatar'
import { RESUME_DATA } from '../../data/resume.data'
import { staticLocalePaths } from '../../data/locales'
import { SocialMediaList } from '../../components/ui/SocialMediaList'
import { JobCard } from '../../components/design-system/JobCard'
import { Badge } from '../../components/design-system/Badge'
import { ToggleTheme } from '../../components/ui/ToggleTheme'
import { ProjectCard } from '../../components/design-system/ProjectCard'
import { DICTIONARIES } from '../../data/dictionaries'
import { GlobeIcon } from '../../components/icons/GlobeIcon'

export function getStaticPaths() {
  return staticLocalePaths
}

const DATA = RESUME_DATA[Astro.currentLocale || 'en']
const DICTIONARY = DICTIONARIES[Astro.currentLocale || 'en']
---

<Layout title="Welcome to Astro.">
	<main class="container relative mx-auto scroll-my-12 overflow-auto p-4 print:p-12 md:p-16">
		<section class="mx-auto w-full max-w-2xl space-y-8 print:space-y-4">
		<div class="flex items-center justify-between">
			<div class="flex-1 space-y-1.5">
			  <h1 class="text-2xl font-black">{DATA.name}</h1>
			  <p class="max-w-md text-pretty font-mono text-sm text-muted-foreground print:text-[12px]">
				{DATA.about}
			  </p>
			  <p class="max-w-md items-center text-pretty font-mono text-xs text-muted-foreground">
				<a
				  class="inline-flex gap-x-1.5 align-baseline leading-none hover:underline"
				  href={DATA.locationLink}
				  target="_blank"
				>
				  <GlobeIcon className="size-3" />
				  {DATA.location}
				</a>
			  </p>
			  <div class="flex gap-x-1 pt-1 font-mono text-sm text-muted-foreground print:hidden">
				<SocialMediaList email={DATA.contact.email} socials={DATA.contact.social}>
					nada
				</SocialMediaList>
				<ToggleTheme client:load/>
			  </div>
			  <div class=" flex-col gap-x-1 font-mono text-sm text-muted-foreground print:flex print:text-[12px]">
				
			  </div>
			</div>
  
			<AvatarComponent 
				src={DATA.avatarUrl}
				fallbackText={DATA.initials}
				alt={DATA.name}
				client:load
			/>
		  </div>
		  <section>
			<h2 class="text-lg font-bold">{DICTIONARY.ABOUT}</h2>
			<p class="text-pretty font-mono text-sm text-muted-foreground print:text-[12px]">
			  {DATA.summary}
			</p>
		  </section>
		  <section class="flex min-h-0 flex-col gap-y-3">
			<h2 class="text-lg font-bold">{DICTIONARY.WORK_EXP}</h2>
			{DATA.work.reverse().map((work) => 
				<JobCard work={work} />
			)}
		  </section>
		  <section class="flex flex-col gap-y-3">
			<h2 class="text-lg font-bold">{DICTIONARY.SKILLS}</h2>
			<div class="flex flex-wrap gap-1">
			  	{DATA.skills.map((skill) => 
					<Badge className="print:text-[10px]" variant={"secondary"}>
						{skill}
					</Badge>
				)}
			</div>
		  </section>
  
		  <section class="print-force-new-page flex flex-col gap-y-3">
			<h2 class="text-lg font-bold">{DICTIONARY.PROJECTS}</h2>
			<div class="grid grid-cols-1 gap-3 print:grid-cols-2 print:gap-2 md:grid-cols-2 lg:grid-cols-2">
			  {DATA.projects.map((project) => 
			  	<ProjectCard project={project} />
			  )}
			</div>
		  </section>
		</section>
	</main>
</Layout>
